{% extends 'base.html' %}
{% load objects_extras %}
{% load static %}

{% block content %}
	<div class="row col-md-12 col-lg-12 ">
		<div class="mx-auto mb-2 col-md-12 col-lg-12">
			<h4 class="display-5 text-center">{{ contestant.get_full_name }}{% if contestant.group %} <b>({{ contestant.group }})</b>{% endif %}</h4>
			<p class="display-5 text-center"><em>Категория: {{ contestant.get_category_display }}</em></p>
		</div>
		<form action="" method="post" class="mx-auto col-md-12 col-lg-12"> {% csrf_token %}
		<div class="mx-auto my-5 col-md-12 col-lg-12">
			<ul class="nav nav-tabs" id="myTab">
				<li class="nav-item">
					<a class="nav-link active" href="#type_1">Работы ДПИ</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#type_2">Вокальные работы</a>
				</li>
			</ul>
		</div>

		<div class="tab-content col-md-12 col-lg-12">
			<div class="tab-pane active" id="type_1" role="tab-panel">
				{% for pict in pictures %}
					<div class="text-center mb-5 col-md-8 mx-auto">
						<img src="{{ pict.file.url }}" class="rounded img-fluid shadow" style="width: 100%;">
					</div>
					<div class="row align-middle">
						<div class="col-md-6 text-center">
							<b>Название:</b> {{ pict.name }}{% if pict.technique %}({{pict.technique}}){% endif %}
						</div>
						<div class="col-md-6 text-center">
							<b>Номинация:</b> {{ pict.nomination }}
						</div>
					</div>
					<hr>
				{% endfor %}
			</div>

			<div class="tab-pane" id="type_2" role="tab-panel">
				{% for movie in movies %}
					<div class="text-center mb-5 col-md-8 mx-auto">
						{% if movie.youtube_flag %}
							<div class="embed-responsive embed-responsive-16by9">
							 	<iframe class="embed-responsive-item" src="{{ movie.file }}"></iframe>
							</div>
						{% else %}
							<h4 class="display-5 text-center"><a href="{{ movie.file }}" target="_blank">Просмотреть в отдельном окне</a></h4>
						{% endif %}
					</div>
					<div class="row align-middle">
						<div class="col-md-6 text-center">
							<b>Название:</b> {{ movie.name }}{% if movie.composer %}, <b>муз.</b> {{movie.composer}}{% endif %}{% if movie.poet %}, <b>сл.</b> {{movie.poet}}{% endif %}{% if movie.descritpion %} (<em>{{movie.descritpion}}</em>){% endif %}
						</div>
						<div class="col-md-6 text-center">
							<b>Номинация:</b> {{ movie.nomination }}
						</div>
					</div>
					<hr>
				{% endfor %}
			</div>
		</div>
	</form>
	</div>
{% endblock %}

{% block scripts %}
    {{ block.super }}
	<script type="text/javascript">
		$(document).ready(function() {
			$('#myTab a').on('click', function(e){
				e.preventDefault();
				$(this).tab('show')
				return false;
			});
		});
	</script>
{% endblock %}
